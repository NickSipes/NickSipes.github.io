<html>
  <head>
      <title>Spark function buttons Example</title>
  </head>

  <body>
    
    <button type="button" onclick="functionCall('openLocker', 'functionArgument')">Open locker 1</button>
    <button type="button" onclick="functionCall('openLocker', 'functionArgument')">Open locker 2</button>
    <button type="button" onclick="functionCall('openLocker', 'functionArgument')">Open locker 3</button>
    
    
    <script>
      //you can use your accesstoken, or your email/passsword to log in. Uncomment accordingly below.

      var accessToken = "f6f5515001da8f4fee780973894617f50758fd0e";
      var deviceID = "recre-prototype-7445";
      
      spark.on('login', function(response) {   
        
        console.log(response);
        
      });

      // callback to be executed by each core
      var callback = function(err, data) {
        if (err) {
          console.log('An error occurred while getting core attrs:', err);
        } else {
          console.log('Core attr retrieved successfully:', data);
        }
      };
      
      function functionCall(functionName, functionArgument){
        // The function needs to be defined  in the firmware uploaded to the
        // the Spark core and registered to the Spark cloud, same thing we do
        // with variables. You pass along the name of the function and the params.
        spark.callFunction(deviceID, functionName, functionArgument, callback);  
      }
      
      // Uncomment a line below depending on your preferred log-in method.   
      //spark.login({ username: 'email@example.com', password: 'password' });  
      spark.login({ accessToken: accessToken });
      
    </script>
  </body>
</html>